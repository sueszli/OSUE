\hypertarget{supervisor_8c}{\section{/homes/y11911069/\-Documents/\-Exercise\-\_\-1/1\-B\-\_\-\-Solution/src/supervisor.c File Reference}
\label{supervisor_8c}\index{/homes/y11911069/\-Documents/\-Exercise\-\_\-1/1\-B\-\_\-\-Solution/src/supervisor.\-c@{/homes/y11911069/\-Documents/\-Exercise\-\_\-1/1\-B\-\_\-\-Solution/src/supervisor.\-c}}
}


supervisor module.  


{\ttfamily \#include $<$stdio.\-h$>$}\\*
{\ttfamily \#include $<$stdlib.\-h$>$}\\*
{\ttfamily \#include $<$assert.\-h$>$}\\*
{\ttfamily \#include $<$unistd.\-h$>$}\\*
{\ttfamily \#include $<$errno.\-h$>$}\\*
{\ttfamily \#include $<$string.\-h$>$}\\*
{\ttfamily \#include $<$fcntl.\-h$>$}\\*
{\ttfamily \#include $<$sys/mman.\-h$>$}\\*
{\ttfamily \#include $<$sys/types.\-h$>$}\\*
{\ttfamily \#include $<$sys/stat.\-h$>$}\\*
{\ttfamily \#include $<$signal.\-h$>$}\\*
{\ttfamily \#include $<$semaphore.\-h$>$}\\*
{\ttfamily \#include \char`\"{}datatypes.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}algorithms.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}circular\-Buffer.\-h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static int \hyperlink{supervisor_8c_a2d3588b54d38b86ef7133608f8526b12}{deep\-Copy\-Arc} (struct \hyperlink{structFeedbackArc}{Feedback\-Arc} $\ast$dest, struct \hyperlink{structFeedbackArc}{Feedback\-Arc} $\ast$src)
\begin{DoxyCompactList}\small\item\em make a deep copy of an Feedback-\/\-Arc \end{DoxyCompactList}\item 
void \hyperlink{supervisor_8c_adb1a37faa77219e1add3c026597c3dec}{handle\-\_\-signal} (int signal)
\begin{DoxyCompactList}\small\item\em a signal handler which sets the global variable quit to 1 \end{DoxyCompactList}\item 
int \hyperlink{supervisor_8c_a0ddf1224851353fc92bfbff6f499fa97}{main} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em The program starts here. This function takes care about parameters, and checks if the input has the correct form. It reads from the circular Buffer and prints the best solution. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hypertarget{supervisor_8c_a0b6d3439424a03ac9ad9ea40abb12021}{volatile sig\-\_\-atomic\-\_\-t {\bfseries quit} = 0}\label{supervisor_8c_a0b6d3439424a03ac9ad9ea40abb12021}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
supervisor module. \begin{DoxyAuthor}{Author}
Lukas Fink 11911069 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
10.\-11.\-2021
\end{DoxyDate}
recieves data (Feedback-\/\-Arcs) from the generators. it stores the best result received every time a better result is received, it prints it to stdout. when a result with 0 edges is received or the program is interrupted with S\-I\-G\-I\-N\-T or S\-I\-G\-T\-E\-R\-M, it sets a termination value in the buffer to properly terminate the generators. After doing that, it closes all recources and terminates successfully. Exists with E\-X\-I\-T\-\_\-\-F\-A\-I\-L\-U\-R\-E on failure 

\subsection{Function Documentation}
\hypertarget{supervisor_8c_a2d3588b54d38b86ef7133608f8526b12}{\index{supervisor.\-c@{supervisor.\-c}!deep\-Copy\-Arc@{deep\-Copy\-Arc}}
\index{deep\-Copy\-Arc@{deep\-Copy\-Arc}!supervisor.c@{supervisor.\-c}}
\subsubsection[{deep\-Copy\-Arc}]{\setlength{\rightskip}{0pt plus 5cm}static int deep\-Copy\-Arc (
\begin{DoxyParamCaption}
\item[{struct {\bf Feedback\-Arc} $\ast$}]{dest, }
\item[{struct {\bf Feedback\-Arc} $\ast$}]{src}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{supervisor_8c_a2d3588b54d38b86ef7133608f8526b12}


make a deep copy of an Feedback-\/\-Arc 

deep copy function

copys values of src to dest and terminates the edge array with an edge with negative values. 
\begin{DoxyParams}{Parameters}
{\em dest} & destination for the data to be copied \\
\hline
{\em src} & source of data to be copied from \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, -\/1 on failure 
\end{DoxyReturn}
\hypertarget{supervisor_8c_adb1a37faa77219e1add3c026597c3dec}{\index{supervisor.\-c@{supervisor.\-c}!handle\-\_\-signal@{handle\-\_\-signal}}
\index{handle\-\_\-signal@{handle\-\_\-signal}!supervisor.c@{supervisor.\-c}}
\subsubsection[{handle\-\_\-signal}]{\setlength{\rightskip}{0pt plus 5cm}void handle\-\_\-signal (
\begin{DoxyParamCaption}
\item[{int}]{signal}
\end{DoxyParamCaption}
)}}\label{supervisor_8c_adb1a37faa77219e1add3c026597c3dec}


a signal handler which sets the global variable quit to 1 

global variable to terminate the program Signal-\/\-Handler

global variables\-: quit \hypertarget{supervisor_8c_a0ddf1224851353fc92bfbff6f499fa97}{\index{supervisor.\-c@{supervisor.\-c}!main@{main}}
\index{main@{main}!supervisor.c@{supervisor.\-c}}
\subsubsection[{main}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}}\label{supervisor_8c_a0ddf1224851353fc92bfbff6f499fa97}


The program starts here. This function takes care about parameters, and checks if the input has the correct form. It reads from the circular Buffer and prints the best solution. 

Program entry point.

It creates and unlinks all semaphores and the shared memory used by the supervisor and the generators. When finding a solution with 0 edges or receiving a S\-I\-G\-I\-N\-T or S\-I\-G\-T\-E\-R\-M the program sets a terminate-\/value in the circular Buffer and then -\/ after closing all recources -\/ properly terminates. 
\begin{DoxyParams}{Parameters}
{\em argc} & The argument counter. \\
\hline
{\em argv} & The argument vector. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns E\-X\-I\-T\-\_\-\-S\-U\-C\-C\-E\-S\-S when succeeding, otherwise E\-X\-I\-T\-\_\-\-F\-A\-I\-L\-U\-R\-E 
\end{DoxyReturn}
